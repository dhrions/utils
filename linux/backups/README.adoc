= Recommandations pour les sauvegardes
:Dhrions:
:toc:

:usr: user

== Liste de fichiers ou de dossiers utiles à sauvegarder

=== Cas général

Le dossier de root :

[source, bash]
----
/root/
----

Des dossiers de configuration générale :

[source, bash]
----
/etc/ssh
/etc/resolv.conf
/etc/fstab
/etc/default/grub
----

Les dossiers de configuration propres à l'utilisateur :

[source, bash]
----
/home/user/.*
----

=== Cas particuliers

==== Serveurs avec Swag
[source, bash]
----
/swag/config/nginx/nginx.conf
/swag/config/nginx/ldap-server.conf
/swag/config/nginx/authelia-location.conf
/swag/config/nginx/authelia-server.conf
/swag/config/nginx/ssl.conf
/swag/config/nginx/proxy.conf
/swag/config/nginx/proxy-confs/<name1>.subdomain.conf
/swag/config/nginx/proxy-confs/<name2>.subdomain.conf
/swag/config/nginx/proxy-confs/<name3>.subdomain.conf
/swag/config/nginx/proxy-confs/<name4>.subdomain.conf
/swag/config/nginx/site-confs/default.conf
----

==== Serveurs avec Docker

[source, bash]
----
/var/lib/docker/volumes/portainer_data/_data/compose/
----

==== Serveurs avec Nextcloud

[source, bash]
----
nextcloud/config/www/nextcloud/config/config.php
----

==== Serveur avec Gitea

[source, bash]
----
gitea/data/gitea/conf
----

== Liste de fichiers ou de dossiers utiles à exclure

=== Cas général


=== Cas particuliers

==== Nextcloud

[source, bash]
----
nextcloud/data
----

==== Jellyfin

[source, bash]
----
*/metadata
*/MediaCover
jellyfin/cache
----

== Liste de commandes dont les résultats sont utiles à sauvegarder

[source, bash]
----
dpkg --get-selections
crontab -l
lsblk
----
