= ğŸ·ï¸ Tags et Releases Git
:navtitle: Tags et Releases

== ğŸ¯ Vue d'ensemble

Les **tags** et **releases** sont deux concepts Git essentiels pour versionner et tracker les versions stables d'un projet. Bien que liÃ©s, ils ont des usages distincts.

== ğŸ·ï¸ Tags Git

=== Qu'est-ce qu'un tag ?

Un **tag** est une **rÃ©fÃ©rence Git** qui pointe sur un commit spÃ©cifique. C'est une Ã©tiquette immuable utilisÃ©e pour marquer des points importants dans l'historique.

=== Types de tags

==== 1. Tag lÃ©ger (Lightweight)

Juste une rÃ©fÃ©rence au commit.

[source,bash]
----
git tag v1.0.0
git push origin v1.0.0
----

==== 2. Tag annotÃ© (Annotated)

Inclut mÃ©tadonnÃ©es : auteur, date, message.

[source,bash]
----
git tag -a v1.0.0 -m "Version 1.0.0 - Production ready"
git push origin v1.0.0
----

*RecommandÃ©* pour les versions officielles.

=== CrÃ©er un tag

==== CrÃ©er localement

[source,bash]
----
# Tag annotÃ© (recommandÃ©)
git tag -a v1.0.0 -m "My version 1.0.0"

# Tag lÃ©ger
git tag v1.0.0

# Voir le tag
git show v1.0.0
----

==== Pusher un tag

[source,bash]
----
# Pousser un tag spÃ©cifique
git push origin v1.0.0

# Pousser tous les tags
git push origin --tags

# Pousser tous les commits ET tags
git push origin main --tags
----

=== Supprimer un tag

[source,bash]
----
# Supprimer localement
git tag -d v1.0.0

# Supprimer sur remote
git push --delete origin v1.0.0

# Ou (syntaxe alternative)
git push origin :v1.0.0
----

=== Lister les tags

[source,bash]
----
# Lister tous les tags
git tag

# Lister avec dÃ©tails
git tag -l -n5

# Chercher des tags
git tag -l "v1.*"

# Voir un tag spÃ©cifique
git show v1.0.0
----

=== VÃ©rifier qu'un tag existe

[source,bash]
----
git tag -l v1.0.0
----

=== Annoter un tag existant

[source,bash]
----
# Impossible - crÃ©er un nouveau tag
git tag -a v1.0.0-final -m "Final version"
----

== ğŸš€ Releases (Gitea/GitHub/GitLab)

=== Qu'est-ce qu'une release ?

Une **release** est une **fonctionnalitÃ© de la plateforme** (pas Git natif) basÃ©e sur un tag. Elle permet de :

* ğŸ“ Ajouter des notes de version dÃ©taillÃ©es
* ğŸ“¦ Attacher des fichiers tÃ©lÃ©chargeables (binaires, archives)
* ğŸ¯ CrÃ©er une page spÃ©ciale pour les utilisateurs finaux
* ğŸ”– Marquer comme prÃ©-release ou brouillon
* ğŸ“¢ GÃ©nÃ©rer des URLs partageables

=== CrÃ©er une release (Gitea)

. Aller sur : `https://gitea.example.com/owner/repo/releases`
. Cliquer sur "New Release"
. SÃ©lectionner le tag ou crÃ©er un nouveau
. Remplir les dÃ©tails :
** Title : Nom de la version
** Description : Notes de version (Markdown)
** Attach files : Fichiers tÃ©lÃ©chargeables (optional)
** Pre-release : Cocher si version beta
. Cliquer "Publish Release"

=== Exemple de notes de version

[source,markdown]
----
## ğŸš€ Features

- âœ¨ New dashboard with real-time updates
- ğŸ¨ Improved UI design
- ğŸ“± Mobile responsiveness

## ğŸ› Bug Fixes

- Fixed login redirect issue
- Corrected date formatting

## ğŸ“š Documentation

- Added API reference
- Updated user guide

## âš ï¸ Known Issues

- Performance optimization in progress
- Dark mode coming soon

## ğŸ”— Links

- [Documentation](https://docs.example.com)
- [API Docs](https://api.example.com)
- [Issues](https://github.com/owner/repo/issues)

## ğŸ™ Contributors

Thanks to @user1 @user2 for contributions!
----

== ğŸ“Š DiffÃ©rences principales

[cols="2,3,3"]
|===
|Aspect |Tag Git |Release

|**Type**
|Git natif
|Plateforme (Gitea/GitHub/GitLab)

|**Pointeur**
|Commit spÃ©cifique
|Tag Git

|**Description**
|Optionnelle (dans message)
|DÃ©taillÃ©e et mise en forme

|**Fichiers**
|âŒ Non
|âœ… Oui (assets tÃ©lÃ©chargeables)

|**Interface**
|CLI Git
|Web UI

|**Public cible**
|DÃ©veloppeurs
|Utilisateurs finaux

|**TÃ©lÃ©chargeables**
|âŒ Non (via clone)
|âœ… Oui (.zip, .tar.gz)

|**VisibilitÃ©**
|Tous les dÃ©veloppeurs
|AnnoncÃ©e publiquement
|===

== ğŸ”„ Workflow Git recommandÃ©

=== Phase de dÃ©veloppement

[source,bash]
----
# DÃ©velopper la feature
git add .
git commit -m "Add feature X"
git push origin main
----

=== Phase de prÃ©-release

[source,bash]
----
# CrÃ©er un tag alpha/beta
git tag -a v1.0.0-alpha -m "Version 1.0.0 alpha"
git push origin v1.0.0-alpha

# AprÃ¨s tests et feedback...
git tag -a v1.0.0-rc1 -m "Version 1.0.0 release candidate 1"
git push origin v1.0.0-rc1
----

=== Phase de release stable

[source,bash]
----
# CrÃ©er tag final
git tag -a v1.0.0 -m "Version 1.0.0 - Production ready"
git push origin v1.0.0

# CrÃ©er la release sur la plateforme
# (Via web UI ou API)
----

== ğŸ“‹ Semantic Versioning (SemVer)

Format standard : `MAJEURE.MINEURE.PATCH[-PRERELEASE][+BUILD]`

=== Structure

[source,text]
----
v1.2.3-alpha.1+build.123
â”‚ â”‚ â”‚ â”‚      â”‚    â”‚
â”‚ â”‚ â”‚ â”‚      â”‚    â””â”€ MÃ©tadonnÃ©es build (optionnel)
â”‚ â”‚ â”‚ â”‚      â””â”€â”€â”€â”€â”€â”€ PrÃ©-release (optionnel)
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PATCH (bugfixes)
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MINEURE (features)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MAJEURE (breaking changes)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PrÃ©fixe v
----

=== Exemples

[horizontal]
`v1.0.0`:: PremiÃ¨re version stable
`v1.0.1`:: Bugfix
`v1.1.0`:: Nouvelle feature (rÃ©tro-compatible)
`v2.0.0`:: Breaking changes
`v1.0.0-alpha`:: Alpha (trÃ¨s instable)
`v1.0.0-beta.1`:: Beta 1
`v1.0.0-rc1`:: Release candidate 1

=== RÃ¨gles

[cols="1,3"]
|===
|IncrÃ©ment |Quand

|**MAJEURE**
|Breaking changes, API incompatible

|**MINEURE**
|Nouvelles features, rÃ©tro-compatibles

|**PATCH**
|Bugfixes, corrections, rÃ©tro-compatibles
|===

== ğŸ¯ StratÃ©gies de tagging

=== StratÃ©gie 1 : Tags de versions uniquement (RecommandÃ©)

CrÃ©er des tags **uniquement** pour les versions stables.

[source,bash]
----
git tag v0.1.0      # POC
git tag v1.0.0      # Production
git tag v1.0.1      # Hotfix
git tag v1.1.0      # Nouvelle version
git tag v2.0.0      # Version majeure
----

**Avantages :**
- âœ… Simple et clair
- âœ… Tags importants en vue
- âœ… Facile Ã  documenter

**InconvÃ©nients :**
- âŒ Moins de granularitÃ©

=== StratÃ©gie 2 : Tags pour chaque Ã©tape

CrÃ©er des tags pour alpha, beta, rc, et final.

[source,bash]
----
git tag v1.0.0-alpha.1
git tag v1.0.0-alpha.2
git tag v1.0.0-beta.1
git tag v1.0.0-rc1
git tag v1.0.0-rc2
git tag v1.0.0           # Stable
----

**Avantages :**
- âœ… TrÃ¨s traÃ§able
- âœ… Permet versioning dÃ©taillÃ©

**InconvÃ©nients :**
- âŒ Beaucoup de tags
- âŒ Peut Ãªtre verbeux

=== StratÃ©gie 3 : Tags avec types

Utiliser des prÃ©fixes pour clarifier le type.

[source,bash]
----
git tag release/v1.0.0      # Release
git tag hotfix/v1.0.1       # Hotfix
git tag beta/v1.1.0-beta    # Beta
git tag experimental/v2.0   # ExpÃ©rimental
----

**Avantages :**
- âœ… TrÃ¨s organisÃ©
- âœ… Type clair au coup d'Å“il

**InconvÃ©nients :**
- âŒ Noms plus longs

== ğŸ“ˆ Nombre de tags vs releases

=== Ratio typique

[cols="1,3"]
|===
|Concept |FrÃ©quence

|**Tags**
|FrÃ©quent (3-10+ par release)

|**Releases**
|Moins frÃ©quent (1-2 par mois)

|**Ratio**
|3-5 tags pour 1 release
|===

=== Exemple sur un vrai projet

[source,text]
----
Tags crÃ©Ã©s (20+):
â”œâ”€â”€ v0.1.0-alpha
â”œâ”€â”€ v0.1.0-beta
â”œâ”€â”€ v0.1.0-beta.2
â”œâ”€â”€ v0.1.0-rc1
â”œâ”€â”€ v0.1.0         â”€â”€â”€â”€â”€â”€â”€â”€â†’ Release v0.1.0 (POC)
â”œâ”€â”€ v0.2.0-alpha
â”œâ”€â”€ v0.2.0-rc1
â”œâ”€â”€ v0.2.0-rc2
â”œâ”€â”€ v0.2.0         â”€â”€â”€â”€â”€â”€â”€â”€â†’ Release v0.2.0 (Beta)
â”œâ”€â”€ v0.2.1         (hotfix)
â”œâ”€â”€ v1.0.0-rc1
â”œâ”€â”€ v1.0.0-rc2
â”œâ”€â”€ v1.0.0         â”€â”€â”€â”€â”€â”€â”€â”€â†’ Release v1.0.0 (Production)
â”œâ”€â”€ v1.0.1         (hotfix)
â”œâ”€â”€ v1.1.0         â”€â”€â”€â”€â”€â”€â”€â”€â†’ Release v1.1.0 (Feature)
â”œâ”€â”€ v1.1.1         (hotfix)
â”œâ”€â”€ v2.0.0-alpha
â”œâ”€â”€ v2.0.0-rc1
â”œâ”€â”€ v2.0.0         â”€â”€â”€â”€â”€â”€â”€â”€â†’ Release v2.0.0 (Majeure)
â””â”€â”€ v2.0.1         (hotfix)

Releases crÃ©Ã©es (4):
â”œâ”€â”€ v0.1.0 (POC)
â”œâ”€â”€ v1.0.0 (Production)
â”œâ”€â”€ v1.1.0 (Feature update)
â””â”€â”€ v2.0.0 (Major release)
----

== âœ… Bonnes pratiques

=== Ã€ faire âœ…

[cols="1,3"]
|===
|Pratique |Description

|Utiliser SemVer
|`v1.2.3` plutÃ´t que `v1.2` ou `release-jan`

|Tags annotÃ©s
|Incluent mÃ©tadonnÃ©es importantes

|Convention de noms
|`v` prefix, consister dans le format

|Releases pour versions stables
|Pas de release pour chaque alpha/beta

|Message descriptif
|Expliquer le tag et les changements

|Pousser les tags
|`git push origin --tags`

|Documentation
|Lier tags Ã  issues/PRs
|===

=== Ã€ Ã©viter âŒ

[horizontal]
Tags non versionnÃ©s:: `latest`, `stable`, `prod`
Tags sur develop:: Tagger main branch seulement
Noms inconsistants:: `v1.0`, `version1.0`, `1.0.0`
Tags sans message:: Toujours utiliser `-a` (annotÃ©)
Supprimer tags:: Tags immutables, ne jamais supprimer
Release majeure sans tag:: Toujours crÃ©er le tag d'abord

== ğŸ”— RÃ©fÃ©rences utiles

* xref:git.adoc[Guide Git complet]
* xref:forges.adoc[Guide des forges (Gitea/GitHub)]
* https://semver.org[Semantic Versioning officiel]
* https://docs.gitea.io/en-us/releases/[Documentation Gitea - Releases]
* https://docs.github.com/en/repositories/releasing-projects-on-github[Documentation GitHub - Releases]

== ğŸ“ Checklist pour crÃ©er une release

. âœ… Code testÃ© et stable
. âœ… Commit final sur main/develop
. âœ… CrÃ©er tag annotÃ© : `git tag -a v1.0.0 -m "..."`
. âœ… Pousser tag : `git push origin v1.0.0`
. âœ… CrÃ©er release sur plateforme
. âœ… RÃ©diger notes de version
. âœ… Attacher fichiers (si applicable)
. âœ… Publier release
. âœ… Annoncer (mailing list, rÃ©seaux, etc.)
. âœ… CrÃ©er issue pour prochaine version
