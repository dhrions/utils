= V√©rificateur de liens AsciiDoc
:toc:
:toc-title: Sommaire
:toclevels: 3
:source-highlighter: pygments
:icons: font
:project-name: adoc-link-checker
:version: 1.0.0

image::https://img.shields.io/badge/Python-3.8+-brightgreen.svg[Python Version]

Un outil en ligne de commande pour v√©rifier les liens bris√©s dans les fichiers AsciiDoc (`.adoc`), incluant la prise en charge des liens YouTube et des URLs classiques.

== üì¶ Fonctionnalit√©s

- V√©rification des liens `link:https://exemple.com[...]` dans les fichiers `.adoc`.
- Prise en charge des identifiants YouTube (`video::youtube_id`).
- Traitement parall√®le pour une v√©rification rapide.
- Configuration flexible via fichier ou ligne de commande.
- Sortie au format JSON pour une int√©gration facile dans des pipelines CI/CD.
- Blacklist de domaines √† ignorer.

== üõ† Pr√©requis

- Python 3.8 ou sup√©rieur
- `pip` pour l'installation des d√©pendances

== üöÄ Installation

=== Cloner le d√©p√¥t

[source,bash]
----
git clone https://github.com/ton-org/adoc-link-checker.git
cd adoc-link-checker
----

===  Installer les d√©pendances

[source,bash]
----
pip install -r requirements.txt
----

=== (Optionnel) Installer en mode d√©veloppement

[source,bash]
----
pip install -e .
----

== üìÇ Structure du projet

[cols="1,3"]
|===
| Fichier | Description

| `config.py`
| Configuration par d√©faut (timeouts, threads, blacklist, etc.).

| `main.py`
| Logique m√©tier de v√©rification des liens.

| `cli.py`
| Interface en ligne de commande (CLI) bas√©e sur `click`.

| `README.adoc`
| Documentation du projet (ce fichier).

| `requirements.txt`
| Liste des d√©pendances Python.
|===

== üíª Utilisation

=== V√©rification basique

V√©rifie les liens dans le r√©pertoire courant :
[source,bash]
----
python cli.py
----

=== V√©rification d'un r√©pertoire sp√©cifique

[source,bash]
----
python cli.py ./docs
----

=== Options avanc√©es

[cols="1,1,2"]
|===
| Option | D√©faut | Description

| `--timeout`
| `15`
| Timeout (secondes) pour les requ√™tes HTTP.

| `--max-workers`
| `5`
| Nombre maximal de threads pour le traitement parall√®le.

| `--delay`
| `0.5`
| D√©lai (secondes) entre chaque requ√™te pour √©viter les bans.

| `--output`
| `broken_links.json`
| Fichier de sortie JSON contenant les liens bris√©s.

| `--blacklist`
| `[]`
| Domaine(s) √† ignorer (ex: `--blacklist exemple.com`).

| `--verbose`
| -
| Active le mode verbeux (niveau de log `DEBUG`).
|===

Exemple complet :

[source,bash]
----
python cli.py ./docs --timeout 10 --max-workers 8 --blacklist exemple.com --verbose
----

== üìù Exemple de sortie

Le script g√©n√®re un fichier JSON (`broken_links.json` par d√©faut) avec la structure suivante :

[source,json]
----
{
  "chemin/vers/fichier.adoc": [
    ["https://lien-brise.com", "URL not accessible"],
    ["https://autre-lien.com/404", "URL not accessible"]
  ]
}
----

Exemple de sortie en mode verbeux :

[source,console]
----
2025-08-21 14:30:00 - INFO - üîç D√©marrage de la v√©rification dans /home/user/docs
2025-08-21 14:30:01 - INFO - üìÇ Processing /home/user/docs/index.adoc (5 URLs to check)...
2025-08-21 14:30:02 - WARNING - ‚ùå URL broken: https://lien-brise.com
2025-08-21 14:30:03 - INFO - üìä Results saved to broken_links.json.
----

== üîß Configuration

Tu peux modifier les param√®tres par d√©faut dans `config.py` :

[source,python]
----
TIMEOUT = 15          # Timeout des requ√™tes (secondes)
MAX_WORKERS = 5       # Nombre de threads
DELAY = 0.5           # D√©lai entre les requ√™tes (secondes)
BLACKLIST = []        # Liste des domaines √† ignorer (ex: ["spam.com"])
----

== üì¶ D√©pendances

[cols="1,2"]
|===
| Package | Utilisation

| `click`
| Interface en ligne de commande.

| `requests`
| Requ√™tes HTTP pour v√©rifier les liens.

| `urllib3`
| Gestion des retries et timeouts.
|===

== ü§ù Contribution

Les contributions sont les bienvenues ! Pour contribuer :
. Fork le projet.
. Cr√©e une branche (`git checkout -b feature/ma-nouvelle-fonctionnalit√©`).
. Commit tes modifications (`git commit -am 'Ajout d'une nouvelle fonctionnalit√©'`).
. Push la branche (`git push origin feature/ma-nouvelle-fonctionnalit√©`).
. Ouvre une Pull Request.